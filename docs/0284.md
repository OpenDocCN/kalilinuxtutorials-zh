# Pentest Machine–通过 Nmap xml 文件自动化一些 Pentest 作业

> 原文：<https://kalilinuxtutorials.com/pentest-machine-via-nmap-xml-file/>

Pentest Machine 通过 nmap XML 文件自动完成一些 Pentest 工作。每个命令一结束，它就将其输出写入终端，并在 output-by-service/和 output-by-host/中写入文件。首先运行快速返回命令。请将您希望包含的协议/命令/选项发送给我。

*   **HTTP**
    *   whatweb
        *   WPScan(仅当 whatweb 返回 WordPress 结果时)
    *   目击者主动尝试登录
    *   轻型目录暴力
*   **DNS**
    *   nmap NSE dns 区域转移和 dns 递归
*   **MySQL** 的实现
    *   光拍击器暴力
*   **PostgreSQL**
    *   光拍击器暴力
*   **MSSQL**
    *   光拍击器暴力
*   **SMTP**
    *   nmap NSE SMTP-enum-用户和 SMTP-开放-中继
*   **SNMP**
    *   轻型伞兵部队
        *   snmpcheck(如果 patador 成功找到一个字符串)
*   **中小企业**
    *   enum4linux -a
    *   nmap NSE smb-enum-shares，smb-vuln-ms08-067，smb-vuln-ms17-010
*   **啜饮**
    *   nmap NSE sip-enum-用户和 sip-方法
    *   smap
*   **RPC**
    *   showmount -e
*   **NTP**
    *   nmap NSE ntp-monlist
*   **FTP**
    *   光拍击器暴力
*   **远程登录**
    *   光拍击器暴力
*   **宋承宪**
    *   光拍击器暴力
*   **WordPress 4.7**
    *   XSS 内容上传
*   **补充:**
*   **IPMI 哈希披露**
*   **ike 扫描(不能并行运行 ike 扫描)**

**也可理解为[DigiDuck——运行在 Tiny85 处理器上的 digi duck 开发板框架&微核引导程序](https://kalilinuxtutorials.com/digiduck-framework/)**

## **Pentest 机器安装**

```
**./setup.sh
source pm/bin/activate** 
```

## **Pentest 机器使用情况**

从 Nmap XML 文件中读取

`**sudo ./pentest-machine -x nmapfile.xml**`

使用主机列表执行 Nmap 扫描，然后使用这些结果。Nmap 扫描将执行前 1000 个 TCP 端口和前 100 个 UDP 端口以及服务枚举，它将保存为 pm-nmap。当前工作目录中的[xml/nmap/gnmap]

**`sudo ./pentest-machine -l hostlist.txt`**

跳过 patator bruteforcing 和所有 SIP 和 HTTP 命令-s 参数可以跳过命令名和协议名

**`sudo ./pentest-machine -s patator,sip,http -x nmapfile.xml`**

[![](img//d861a9096555aeb1980fc054015933d7.png)](https://github.com/DanMcInerney/pentest-machine)