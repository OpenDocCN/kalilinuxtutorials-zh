# 主干 windows 内存黑客库

> 原文：<https://kalilinuxtutorials.com/blackbone-memory-hacking/>

Blackbone 是一个用来黑 windows 内存库的工具。Blackbone 获得了麻省理工学院的许可。

## **黑体**的特点

##### **流程交互**

1.  管理 PEB32/PEB64
2.  通过 WOW64 屏障管理流程

##### **进程存储器**

1.  分配和释放虚拟内存
2.  更改内存保护
3.  读/写虚拟内存

**也读作[BLEAH——一款针对智能设备黑客攻击的 BLE 扫描仪](https://kalilinuxtutorials.com/bleah-ble-scanner-devices-hacking/)**

##### **流程模块**

1.  枚举加载的所有(32/64 位)模块。使用加载程序列表/节对象/PE 头方法枚举模块。
2.  获取导出的函数地址
3.  获取主模块
4.  取消模块与加载程序列表的链接
5.  注入和弹出模块(包括纯 IL 映像)
6.  将 64 位模块注入 WOW64 进程
7.  手动映射本机对等映像

##### **线程**

1.  枚举线程
2.  创建和终止线程。支持跨会话线程创建。
3.  获取线程退出代码
4.  获取主线程
5.  管理 TEB32/TEB64
6.  连接线程
7.  挂起和恢复线程
8.  设置/删除硬件断点

##### **模式搜索**

1.  在本地或远程进程中搜索任意模式

##### **远程代码执行**

1.  在远程进程中执行函数
2.  汇编自己的代码并远程执行
3.  支持 cdecl/stdcall/this call/fast call 约定
4.  支持通过值、指针或引用传递的参数，包括结构
5.  支持 FPU 类型
6.  在新线程或任何现有线程中执行代码

##### **遥控挂钩**

1.  使用 int3 或硬件断点在远程进程中挂接函数
2.  返回时挂钩函数

##### **手动地图功能**

1.  x86 和 x64 映像支持
2.  映射到任意未受保护的进程
3.  具有适当存储器保护标志的段映射
4.  图像重定位(仅支持 2 种类型。我还没有看到一个带有其他重定位类型的 PE 映像)
5.  导入和延迟导入已解决
6.  我认为，捆绑进口是作为一个副作用解决的
7.  模块导出
8.  加载转发的导出图像
9.  Api 模式名称重定向
10.  SxS 重定向和隔离
11.  激活上下文支持
12.  Dll 路径解析类似于本机加载顺序
13.  TLS 回调。仅针对一个线程，并且仅具有 PROCESS_ATTACH/PROCESS_DETACH 原因。
14.  静态 TLS
15.  异常处理支持(SEH 和 C++)
16.  将模块添加到一些本机加载器结构中(对于基本的模块 api 支持:GetModuleHandle、GetProcAdress 等。)
17.  安全 cookie 初始化
18.  支持 C++/CLI 映像
19.  图像卸载
20.  在手动导入映射的情况下，增加导入库的引用计数器
21.  循环依赖被正确处理

##### **驱动功能**

1.  分配/释放/保护用户内存
2.  读/写用户和内核内存
3.  禁用 WOW64 进程的永久 DEP
4.  更改流程保护标志
5.  更改句柄访问权限
6.  重新映射进程内存
7.  隐藏分配的用户模式内存
8.  用户模式 dll 注入和手动映射
9.  驱动因素的手动映射

[![](img//d861a9096555aeb1980fc054015933d7.png)](https://github.com/DarthTon/Blackbone/)