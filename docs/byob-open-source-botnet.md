# BYOB:构建自己僵尸网络的开源项目

> 原文：<https://kalilinuxtutorials.com/byob-open-source-botnet/>

**BYOB** 是一个开源项目，它为安全研究人员和开发人员提供了一个构建和操作基本僵尸网络的框架，以加深他们对复杂恶意软件的了解，这些恶意软件每年会感染数百万台设备，并催生现代僵尸网络，从而提高他们开发应对这些威胁的对策的能力。

它旨在允许开发人员轻松实现他们自己的代码和添加很酷的新功能，而不必从头开始编写 RAT(远程管理工具)或 C2(命令和控制服务器)。

RAT 的主要特点是，可以从 C2 远程将任意代码/文件加载到内存中，并在目标机器上执行，而无需向磁盘写入任何内容。

**又读[Drozer v 2 . 4 . 4——安卓](https://kalilinuxtutorials.com/drozer-2-4-4-android/)** 领先的安全评估框架

## **自带服务器**

`**usage: server.py [-h] [-v] [--host HOST] [--port PORT] [--database DATABASE]**`

*命令&用持久数据库和控制台控制服务器*

*   **基于控制台的用户界面**:简化的控制台界面，用于通过反向 TCP 外壳远程控制客户端主机，该外壳提供对客户端主机的直接终端访问
*   **持久 SQLite 数据库**:轻量级数据库，存储关于客户端主机的识别信息，允许反向 TCP shell 会话在任意持续时间的断开连接中持续存在，并支持长期侦察
*   **客户端-服务器架构**:所有本地安装的 python 包/模块自动可供客户端远程导入，而无需将它们写入目标机器的磁盘，从而允许客户端使用需要目标机器上未安装的包的模块

## **自带设备客户端**

`**usage: client.py [-h] [-v] [--name NAME] [--icon ICON]
[--pastebin API] [--encrypt] [--obfuscate] [--compress] [--compile] host
port [module [module ...]]**`

*使用分段有效负载、远程导入和无限模块生成完全不可检测的客户端*

*   **远程导入**:从服务器远程导入第三方包，无需写入磁盘或下载/安装
*   无内容**写入磁盘**:客户端从不向磁盘写入任何内容——甚至是临时文件(不进行任何 IO 系统调用),因为远程导入允许任意代码动态加载到内存中，并直接导入到当前运行的进程中
*   **零依赖性(甚至不依赖于 python 本身)**:客户端仅使用 python 标准库运行，从服务器远程导入任何非标准包/模块，并且可以使用独立的 Python 解释器编译成针对任何平台/架构格式化的可移植二进制可执行文件，从而允许它在任何平台上运行，即使目标主机上缺少 Python 本身
*   **只需点击一下**即可添加新功能:当您的命令&控制服务器正在运行时，您要复制到`./byob/modules/`目录的任何 python 脚本、模块或包都会自动变为可远程导入的&供每个客户端直接使用
*   **编写你自己的模块**:在`./byob/modules/`目录中提供了一个基本的模块模板，使编写你自己的模块成为一个简单明了的过程
*   **运行无限的模块而不增加文件大小**:使用远程导入来添加无限的功能，而不增加客户端文件大小的一个字节
*   **完全可更新**:每个客户端将定期检查服务器上可用于远程导入的新内容，如果添加/删除了任何内容，将动态更新其内存资源
*   **平台无关**:一切都用 Python(一种平台无关的语言)编写，生成的客户端可以随意编译成可移植的可执行文件( *Windows* )或者捆绑成一个独立的应用( *macOS* )
*   **绕过防火墙**:客户端通过反向 TCP 连接连接到命令&控制服务器，这将绕过大多数防火墙，因为默认的过滤器配置主要阻止传入的连接
*   **防病毒对策**:通过阻止具有已知防病毒产品名称的进程生成来避免被防病毒分析
*   **加密有效载荷以防止分析**:主客户端有效载荷用随机的 256 位密钥加密，该密钥仅存在于与其一起生成的有效载荷 stager 中
*   **防止反向工程**:默认情况下，如果检测到虚拟机或沙箱，客户端将中止执行

## **自带模块**

客户端可远程导入的开发后模块

1.  **键盘记录器** ( `**byob.modules.keylogger**`):记录用户的击键&输入的窗口名
2.  **截图** ( **`byob.modules.screenshot`** ):截图当前用户的桌面
3.  **网络摄像头** ( `**byob.modules.webcam**`):通过网络摄像头观看直播或捕捉图像/视频
4.  **赎金** ( `**byob.modules.ransom**`):加密文件&生成随机 BTC 钱包用于支付赎金
5.  **Outlook** ( `**byob.modules.outlook**`):从本地 Outlook 客户端读取/搜索/上传邮件
6.  **数据包嗅探器** ( `**byob.modules.packetsniffer**`):在主机网络上运行数据包嗅探器&上传。pcap 文件
7.  **持久性** ( `**byob.modules.persistence**`):使用 5 种不同的方法在主机上建立持久性
8.  **电话** ( `**byob.modules.phone**`):从客户端智能手机读取/搜索/上传短信
9.  **提升权限** ( `**byob.modules.escalate**`):试图绕过 UAC 获得未经授权的管理员权限
10.  **端口扫描器** ( `**byob.modules.portscanner**`):扫描本地网络是否有其他在线设备&开放端口
11.  **进程控制** ( `**byob.modules.process**`):列出/搜索/杀死/监控主机上当前运行的进程

## **BYOB 核心**

生成器和服务器使用的核心框架模块

1.  **实用程序** ( `**byob.core.util**`):许多模块使用的各种实用程序功能
2.  **安全**(`**byob.core.security**`):Diffie-Hellman IKE&3 种加密模式(AES-256-OCB，AES-256-CBC，XOR-128)
3.  **加载器** ( **`byob.core.loaders`** ):从服务器远程导入任何包/模块/脚本
4.  **有效载荷** ( `**byob.core.payloads**`):反向 TCP shell，用于远程导入依赖项，打包&模块
5.  **Stagers** ( `**byob.core.stagers**`):生成唯一的有效载荷 Stagers 以防止分析&检测
6.  **生成器** ( `**byob.core.generators**`):为客户端生成器动态生成代码的函数
7.  **数据库** ( `**byob.core.database**`):处理命令&控制服务器和 SQLite 数据库之间的交互

[![](img/d861a9096555aeb1980fc054015933d7.png)](https://github.com/malwaredllc/byob#server)