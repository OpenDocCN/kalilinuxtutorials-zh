# LeakDB : Web 级 NoSQL 幂等云原生大数据无服务器明文凭证搜索

> 原文：<https://kalilinuxtutorials.com/leakdb/>

[![](img//eb5cdafb79a3b451ca1c8a2e0ba8ec44.png)](https://1.bp.blogspot.com/-wD7sJXcCSKc/YVrwrriNgFI/AAAAAAAALAc/ckiJztoE0YMVCI96oD7bhEkEVHcpZecngCLcBGAsYHQ/s728/download%2B%25281%2529%2B%25282%2529.png)

LeakDB 是一个工具集，旨在允许组织构建和部署他们自己的内部*明文*“我被 Pwned 了吗”之类的服务。LeakDB 工具集可以在数 TB 的规模上对泄漏的数据集进行规范化、重复数据删除、索引、排序和搜索，而无需将大文件分发给单个用户。一旦经过整理，LeakDB 可以在不到十分之一秒的时间内搜索万亿字节的数据，LeakDB 服务器公开了一个简单的 JSON API，可以使用命令行客户端或任何 http 客户端进行查询。它可以部署在具有 BigQuery 后端(无索引)的无服务器配置中，或者作为具有索引的离线/传统服务器。

LeakDB 使用可配置的 bloom 过滤器来删除重复的条目，使用外部并行快速排序(即，内存受限)和 k 路二叉树合并对索引进行排序，并使用二叉树搜索来查找索引中的条目。

**用途**

**归一化数据**

第一步是标准化你的数据集，如何做的细节可以在这里找到。确保将所有规范化文件保存在一个目录中。对于无服务器和服务器部署，此步骤是相同的。

接下来，您需要决定是要设置传统的服务器部署还是无服务器部署，如下所述，两者各有利弊。

**服务器部署**

服务器部署是安装 LeakDB 最便宜的方式，但是您必须自己计算索引。计算索引所需的时间因数据集和硬件而异。LeakDB 可以在几乎任何硬件上对多个万亿字节的数据集进行排序，但这可能需要很长时间。由于大量的冲突，域索引尤其需要很长时间来计算。但是，您只需支付一次计算成本。也就是说，每个数据集一次，如果你已经计算了一个索引，并想添加额外的数据，你需要重新排序整个索引(你可以保存布隆过滤器的结果，等等)。所以在计算指数之前，一定要收集并标准化所有的数据。

**无服务器部署**

由于后端是 BigQuery，无服务器部署通常需要更多的资金。使用 BigQuery，您不仅要为数据存储付费，还要为每次查询付费；除非您开始对数据集运行大量查询，否则它并不特别昂贵。它的设置速度也快得多，因为您不必自己计算索引。

**从源代码编译**

只要运行`**make <platform>**`，文件就会被放入`**./bin**`。客户机、管理器和服务器是纯 Go，应该支持任何有效的 Go 编译器目标，但是您可能需要修改 Makefile。因为 AWS Lambda 只支持 Linux，所以无服务器二进制文件只支持 Linux。编译 Windows 二进制文件最简单的方法是从更好的操作系统(如 Linux 或 MacOS)交叉编译它们。

例如:

*   `**make macos**`
*   `**make linux**`
*   `**make windows**`

[**Download**](https://github.com/moloch--/leakdb)