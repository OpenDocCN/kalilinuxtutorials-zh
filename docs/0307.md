# PasteJacker:自动化劫持攻击的黑客系统

> 原文：<https://kalilinuxtutorials.com/pastejacker-hacking-systems-pastejacking/>

PasteJacker 该工具的主要目的是自动化(粘贴劫持/剪贴板中毒/无论你叫它什么)攻击，在一个地方和一个自动化的工作中收集该攻击中使用的所有已知技巧，因为在搜索后，我发现没有工具以正确的方式完成这项工作。

因为这种攻击取决于用户粘贴的内容，所以我在工具中实现了 Metasploit web-delivery 模块的思想，这样当用户粘贴到终端时，您就可以在他的设备上获得 meterpreter 会话。

简而言之，粘贴劫持是一种恶意网站用来控制您计算机剪贴板的方法，并在您不知情的情况下将其内容更改为有害内容。

这里我所做的是自动化最初的攻击，并添加另外两个技巧来欺骗用户，使用 HTML 和 CSS 将会谈到它，然后添加我之前说过的 meterpreter 会话。

**也读作** [**Python-Nubia:一个命令行&交互外壳框架**](https://kalilinuxtutorials.com/python-nubia/)

### **一个简单的场景让事情变得清晰:**

*   目标打开一个由工具提供的 HTML 页面，这个页面有任何让用户想要复制并粘贴到终端的内容。*例如:包装安装说明*
*   Target 复制页面上的任何内容，然后在后台用我们的 liner 快速替换它。
*   用户粘贴到终端中，在他注意到他复制的行已被更改之前:
    *   该行在后台自动执行(无需按 enter 键)
    *   航站楼被清空了。
    *   用户看到终端再次可用。
    *   你现在已经有了你的米普雷特会议。
*   所有这些都发生在不到一秒钟的时间内，也许用户认为这是一个坏程序，他不会安装它。

### **这个 PasteJacker 工具使用 3 种方法来欺骗用户复制我们的有效载荷，而不是他复制的命令:**

*   **使用 javascript 挂接复制事件，替换复制的数据。**
    *   优势:
        *   用户在页面中复制的任何内容都将被替换为我们的行。
        *   一旦目标粘贴了命令，命令就自动执行，无需按回车键。
    *   缺点:
        *   要求在目标浏览器上启用 Javascript。
*   使用 span style 属性通过覆盖隐藏我们的行。
    *   优势:
        *   不需要启用 javascript。
        *   适用于所有浏览器。
    *   缺点:
        *   目标必须选择页面中的所有文本或前两个单词，以确保他复制我们隐藏的恶意行。
*   再次使用 span 样式，但这次是为了让我们的文本透明而不显眼。
    *   优势:
        *   不需要启用 javascript。
    *   缺点:
        *   目标必须选择页面中的所有文本，以确保他复制我们隐藏的恶意行。
        *   不在 opera 和 chrome 上工作。

##### **用户拷贝的有效载荷是多少？**

PasteJacker 为您提供了执行以下操作之一的选项:

*   在我们的机器上生成一个 msfvenom 后门，目标将要复制的 liner 将通过 wget 或 certutil 在它的机器上下载后门，这取决于操作系统，然后在后台执行它，而不打印任何内容到终端。
*   当然，提供一个在后台运行的目标机器上的反向 netcat 连接。
*   像 Metasploit web-delivery 有效负载一样提供您的定制 liner，并添加一些内容来隐藏任何可能的输出。

[![](img//d861a9096555aeb1980fc054015933d7.png)](https://github.com/D4Vinci/PasteJacker)